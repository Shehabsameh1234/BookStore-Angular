"use strict";(self.webpackChunkTalabat=self.webpackChunkTalabat||[]).push([[417],{6417:(y,l,s)=>{s.r(l),s.d(l,{BookShopModule:()=>v});var c=s(6814),p=s(6743),t=s(4946),d=s(6184);const g=["modalRef"];function u(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"h2",27),t._uU(1,"!oops somthing error , please "),t.TgZ(2,"a",28),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.reloadPage())}),t._uU(3,"reload page"),t.qZA()()}}function h(e,a){1&e&&(t.TgZ(0,"div",29)(1,"button",30),t._uU(2," sort by "),t.qZA(),t.TgZ(3,"ul",31)(4,"li")(5,"a"),t._uU(6,"shehab"),t.qZA()(),t.TgZ(7,"li")(8,"a"),t._uU(9,"shehab"),t.qZA()(),t.TgZ(10,"li")(11,"a"),t._uU(12,"shehab"),t.qZA()()()())}function m(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"p",32),t.NdJ("click",function(){const r=t.CHM(o).$implicit,Z=t.oxw();return t.KtG(Z.getByCategory(r.id))}),t._uU(2),t.qZA()()}if(2&e){const o=a.$implicit;t.xp6(2),t.Oqu(o.name)}}function b(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.ngOnInit())}),t._uU(1,"Clear Filter "),t._UZ(2,"i",34),t.qZA()}}function _(e,a){if(1&e&&(t.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38),t._UZ(4,"img",39),t.TgZ(5,"span",40),t._uU(6,"quick view"),t.qZA()(),t.TgZ(7,"span",41),t._uU(8),t.qZA()(),t.TgZ(9,"p",42),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"button",43),t._uU(14,"Add To cart"),t.qZA()()()),2&e){const o=a.$implicit;t.xp6(4),t.Q6J("src",o.pictureUrl,t.LSH)("alt",o.name),t.xp6(4),t.Oqu(o.author),t.xp6(2),t.Oqu(o.name),t.xp6(2),t.hij("",o.price," EGP")}}function f(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.loadMore())}),t._uU(1,"load more"),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("disabled",o.pageSize>=o.count)}}const x=[{path:"",redirectTo:"shop",pathMatch:"full"},{path:"shop",component:(()=>{class e{constructor(o){this._BookService=o,this.modalView=!0,this.ifError=!1,this.isFilter=!1}toggleModal(){const o=new bootstrap.Modal(this.modalElement.nativeElement);this.modalView?o.show():o.hide()}ngOnInit(){this._BookService.getAllBooks(1,3).subscribe({next:o=>{this.categoryId=null,this.isFilter=!1,this.books=o.data,this.pageSize=o.pageSize,this.count=o.count},error:()=>{this.ifError=!0}}),this._BookService.getCategories().subscribe({next:o=>{this.categories=o,this.ifError=!1},error:()=>{this.ifError=!0}})}loadMore(){this.pageSize=this.pageSize+3,null==this.categoryId?this._BookService.getAllBooks(1,this.pageSize).subscribe({next:o=>{this.books=o.data,this.pageSize=o.pageSize},error:()=>{this.ifError=!0}}):this._BookService.getByCategory(1,this.pageSize,this.categoryId).subscribe({next:o=>{this.ifError=!1,this.books=o.data,this.pageSize=o.pageSize,this.count=o.count},error:()=>{this.ifError=!0}})}getByCategory(o){this.categoryId=o,this._BookService.getByCategory(1,3,this.categoryId).subscribe({next:n=>{this.isFilter=!0,this.ifError=!1,this.books=n.data,this.pageSize=n.pageSize,this.count=n.count},error:()=>{this.toggleModal()}})}reloadPage(){location.reload()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(d.Z))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-book-shop"]],viewQuery:function(n,i){if(1&n&&t.Gf(g,5),2&n){let r;t.iGM(r=t.CRH())&&(i.modalElement=r.first)}},decls:32,vars:6,consts:[[1,"container","p-5","mt-5"],["class","text-center mt-5",4,"ngIf"],[1,"text-end","mt-5"],["class","btn-group  ",4,"ngIf"],[1,"row","text-center","p-3"],[1,"col-lg-4","my-4","display"],["id","accordionPanelsStayOpenExample",1,"accordion"],[1,"accordion-item","shadow"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#panelsStayOpen-collapseOne","aria-expanded","true","aria-controls","panelsStayOpen-collapseOne",1,"accordion-button"],["id","panelsStayOpen-collapseOne",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[4,"ngFor","ngForOf"],["class","btn btn-dark mt-5 ms-2",3,"click",4,"ngIf"],[1,"col-lg-8"],[1,"row","text-center"],["class","col-xl-4 col-md-6 col-12 col-lg-6 my-4",4,"ngFor","ngForOf"],["class","btn btn-outline-Color px-5 mt-3",3,"disabled","click",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["modalRef",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"text-center","mt-5"],[1,"text-Color",3,"click"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-lg","dropdown-toggle"],[1,"dropdown-menu"],[1,"text-pointer",3,"click"],[1,"btn","btn-dark","mt-5","ms-2",3,"click"],[1,"fa-solid","fa-trash","ms-2"],[1,"col-xl-4","col-md-6","col-12","col-lg-6","my-4"],[1,"p-md-4","p-lg-0","p-0"],[1,"position-relative","overflow-hidden"],[1,"position-relative"],[1,"text-pointer",3,"src","alt"],[1,"img-span","bg-light","text-pointer"],[1,"author-color"],[1,"px-3"],[1,"btn","btn-dark","w-100"],[1,"btn","btn-outline-Color","px-5","mt-3",3,"disabled","click"]],template:function(n,i){1&n&&(t.TgZ(0,"section",0),t.YNc(1,u,4,0,"h2",1),t.TgZ(2,"div",2),t.YNc(3,h,13,0,"div",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8)(9,"button",9),t._uU(10," Filter By "),t.qZA()(),t.TgZ(11,"div",10)(12,"div",11),t.YNc(13,m,3,1,"div",12),t._UZ(14,"hr"),t.qZA()()(),t.YNc(15,b,3,0,"button",13),t.qZA()(),t.TgZ(16,"div",14)(17,"div",15),t.YNc(18,_,15,5,"div",16),t.TgZ(19,"div"),t.YNc(20,f,2,1,"button",17),t.qZA()()()()(),t.TgZ(21,"div",18,19)(23,"div",20)(24,"div",21)(25,"div",22),t._UZ(26,"button",23),t.qZA(),t.TgZ(27,"div",24),t._uU(28," !Oops no books in this category "),t.qZA(),t.TgZ(29,"div",25)(30,"button",26),t._uU(31,"Close"),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("ngIf",i.ifError),t.xp6(2),t.Q6J("ngIf",!i.ifError),t.xp6(10),t.Q6J("ngForOf",i.categories),t.xp6(2),t.Q6J("ngIf",i.isFilter),t.xp6(3),t.Q6J("ngForOf",i.books),t.xp6(2),t.Q6J("ngIf",!i.ifError))},dependencies:[c.sg,c.O5],styles:["span.author-color[_ngcontent-%COMP%]{position:absolute;bottom:90%;left:0%;font-size:16px;display:inline-block;background-color:#00e689;color:#fff;padding:0 10px}.img-span[_ngcontent-%COMP%]{position:absolute;bottom:0%;left:0%;width:100%;height:0px;text-align:center;font-size:16px;transition:all .5s;padding:10px 0;opacity:0}.col-lg-6[_ngcontent-%COMP%]:hover   .img-span[_ngcontent-%COMP%]{height:50px;opacity:1}img[_ngcontent-%COMP%]{transition:all .5s}.col-lg-6[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.col-lg-6[_ngcontent-%COMP%]:hover   button.btn-dark[_ngcontent-%COMP%]{opacity:1}button.w-100[_ngcontent-%COMP%]{opacity:0;transition:all .7s}button[_ngcontent-%COMP%]{border-radius:0}.container[_ngcontent-%COMP%]{padding:30px 100px}@media (min-width: 0px) and (max-width: 991px){.container[_ngcontent-%COMP%]{padding:20px}.display[_ngcontent-%COMP%]{display:none}}"]})}return e})()}];let k=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(x),p.Bz]})}return e})(),v=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[c.ez,k]})}return e})()}}]);